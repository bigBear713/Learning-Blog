## 首屏加载
- 首屏时间，指的是浏览器从响应用户输入网址地址，到首屏内容渲染完成的时间。此时整个网页不一定要全部渲染完成，但需要展示当前视窗需要的内容
- 首屏加载可以说是用户体验中最重要的环节

---

## 加载慢的原因
- 必须资源文件太大。访问网站时，需要先加载一些必须的文件，比如js,css,图片等。如果这些文件太大，会导致加载时间较长，无法及时在窗口显示内容
- http网络延迟
- 资源文件被重复请求加载
- 加载脚本的方式是否有问题(同步加载)，加载时阻塞了页面的渲染

---

## 解决方案
### 资源加载优化
- 减小必须资源文件的体积，去除非必要的内容。比如将一些业务功能通过懒加载的方式抽离，将相应的内容抽离出去
- 使用http缓存，开启强缓存和协商缓存。将图片、js、scss等静态文件缓存在本地
- UI组件库中的组件按需引入
- 组件重复打包。比如一个公共组件，被多个地方重复使用，没有做优化时，该组件的代码就会被打包到多个地方。可以使用`CommonChunkPlugin`，设置最多被引用几次时，就将其抽离出来。
- 图片资源压缩，使用雪碧图，使用恰当的大小的图片等
- 开启Gzip压缩
- 使用SSR。在服务端就将首页的内容生成为html内容，再响应给浏览器。这样浏览器拿到数据后就能直接解析渲染，不用再等js等的加载执行。

### 页面加载优化
- 优化html代码
  1. 将js外链放在底部，
  2. css外链放在顶部，
  3. 减少dom数量
- 优化js，css代码
  1. 使用web worker
  2. 长任务分片进行
  3. 减少reflow和repain
  4. 降低css选择器的复杂性
- 优化动画效果
  1. 使用`requestAnimationFrame`
  2. 使用`transform`和`opacity`属性来实现动画
  3. 合理使用`will-change`或`translateZ`来提升某些元素到新的合成层