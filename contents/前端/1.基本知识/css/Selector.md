## css选择器
### 基础选择器
- id选择器：`#id{}`
- 类选择器：`.class{}`
- 属性选择器：
  1. `a[href]{}`,
  2. `input[attr=xxx]{}`, 选择属性attr值包含xxx
  3. `input[attr~=xx]{}`, 选择属性attr值包含xx
  4. `div[attr|=xxx]{}`, 用于选择属性attr中，值为`xxx`或者以`xxx-`开头的元素
  5. `div[attr^=xxx]{}`, 匹配选择属性attr中xxx开头的，`^`就是正则表达式中的符号
  6. `div[attr$=xxx]{}`, 匹配选择属性attr中xxx结尾的，`$`就是正则表达式中的符号
  7. `div[attr*=xxx]{}`, 匹配选择属性attr中包含xxx字符的所有元素，`*`就是正则表达式中的符号
- 标签选择器：`p{}`
- 通配符选择器：`*{}`

### 组合选择器
- 后代选择器：`div p{}`
- 子元素选择器：`div>p{}`
- 相邻兄弟选择器：`div+p{}`，匹配紧邻在div元素后的同级p元素.只对紧邻在后面的那个元素起作用，所以用`+`
- 通用兄弟选择器：`div~p{}`，匹配在div元素后的同级所有p元素。对后面所有符合的元素都起作用，所以用`~`
- 交集选择器：`a.btn{}`
- 并集选择器：`h1,h2,h3{}`

### 伪类选择器
#### 标记状态的伪类
- `:link` - 匹配未被访问过的超链接
- `:visited` - 匹配已经访问过的超链接
- `:hover` - 匹配鼠标悬浮在上面的元素
- `:active` - 匹配点中的元素
- `:focus` - 匹配获取交点的元素

#### 筛选功能的伪类
- `:empty` - 匹配没有子元素的元素
- `:checked` - 匹配勾选状态下的input元素，只对`radio`和`checkbox`有效
- `:disabled` - 匹配被禁用的表单元素
- `:first-child` - 匹配当前选择器下的第一个子元素
- `:last-child` - 匹配当前选择器下的最后一个子元素
- `:nth-child(an+b)` - 匹配指定位置的元素，位置通过`an+b`指定，从前往后开始计数
- `:nth-last-child(an+b)` - 匹配指定位置的元素，位置通过`an+b`指定，从后往前开始计数
- `:only-child` - 匹配元素的唯一子元素。如果元素只有一个子元素则生效，反之不生效
- `:only-of-type` - 匹配唯一的某个元素类型。如果元素的父元素只有它一个当前类型的子元素就会生效。

### 伪元素选择器
- `::before` - 在指定元素之前插入内容
- `::after` - 在指定元素之后插入内容
- `::first-line` - 指定元素第一行使用样式
- `::first-letter` - 指定元素的首字母或第一个文字使用的样式
- `::selection` - 对光标选中的元素添加样式
- 注意点：
  1. 伪元素构造的元素是虚拟的，所以无法用js获取操作
  2. `::first-line`和`::first-letter`都不能在内联样式中使用，在内联样式中都会失效
  3. 如果`::before`和`::first-letter`同时使用，第一个元素要从`::before`算起。如果`::before`中第一个为非文本内容，那么`::first-letter`也会作用到这个非为本内容上，但是不会生效
  4. css3中规定，伪类用`:`表示，伪元素用`::`表示

---

## 选择器优先级
- 优先级由A, B, C, D的值来计算的
  1. 如果存在内联样式，则A = 1， 否则A = 0
  2. B的值等于`ID选择器`出现的次数
  3. C的值等于`类选择器`，`属性选择器`，`伪类选择器`出现的总次数
  4. D的值等于`标签选择器`和`伪元素选择器`出现的总次数
- 比较规则：对得到的A,B,C,D值进行从左往右依次进行比较。较大者胜出；如果相等，则继续往右移动一位进行比较。如果4位全部相等，则后者会覆盖前面的
```css
 /* 得到的A,B,C,D的值为(0,1,1,0) */
#nav-list .item {
	color: #f00;
}

 /* 得到的A,B,C,D的值为(0,0,2,0) */
.nav-list .item {
	color: #0f0;
}

 /* 两个样式，第1位都是0，相等，继续比较第2位。第一个样式为1，第二个样式为0，所以第一个样式优先级比较高 */
```

### 优先级的特殊情况
- 正常情况下，内联样式的优先级最高。如果想覆盖内联样式的效果，可以使用`!important`。
- 如果不是为了覆盖内联样式，建议尽量不用`!important`

---

## css选择器一般不建议超过3层
- css解析器在解析css文件时，对css规则是从右往左匹配查找。如果选择器嵌套太多层会造成css tree加载变慢，影响回流重绘效率，最终影响渲染速度

---

## 参考
- https://juejin.cn/post/6844903709772611592