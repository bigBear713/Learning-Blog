
        <h2 id="decorator%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F" class="docs-header-link">
          <span header-link="decorator%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F"></span>
          Decorator装饰器模式
        </h2>
      <ul>
<li>给对象动态添加职责的方式</li>
<li>传统给对象添加功能常使用集成的方式，但这种方式不灵活。装饰器模式相比更灵活</li>
</ul>
<pre class="language-js"><code class="language-js"><div><span class="token comment" spellcheck="true">// AOP 装饰函数:</span>
Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>before <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fn<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// https://github.com/MuYunyun/blog/pull/30#event-1817065820</span>
    <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>after <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    self<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
    <span class="token keyword">return</span> fn<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</div></code></pre>

        <h2 id="%E5%8F%82%E8%80%83" class="docs-header-link">
          <span header-link="%E5%8F%82%E8%80%83"></span>
          参考
        </h2>
      <ul>
<li><a target="_blank" href="https://juejin.cn/post/6844903861606416397">https://juejin.cn/post/6844903861606416397</a></li>
</ul>
